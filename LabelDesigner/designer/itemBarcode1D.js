var Barcode1DTypes=[
	{type:'CODE128',sub_types:[['auto','CODE128'],['A','CODE128A'],['B','CODE128B'],['C','CODE128C']]},
	{type:'EAN',sub_types:[['13','EAN13'],['8','EAN8']]},
	{type:'CODE39',sub_types:[['CODE39','CODE39']]},
	{type:'UPC',sub_types:[['UPC','UPC']]},
	{type:'ITF',sub_types:[['ITF','ITF'],['ITF14','ITF14']]},
];

fabric.Barcode1D = fabric.util.createClass(fabric.Image, {
	type: 'Barcode1D',
	// initialize can be of type function(options) or function(property, options), like for text.
	// no other signatures allowed.
	initialize: function(options) {
		options || (options = { });
		this.callSuper('initialize', options);
		this.set('label', options.label || '');
		this.set('barcode_type',options.barcode_type);
		this.set('barcode_sub_type',options.barcode_sub_type);
		this.set('src','');
		this.set('left',options.left);
		this.set('top',options.top);
		this.set('scaleX',options.scaleX);
		this.set('scaleY',options.scaleY);
		this.set('angle',options.angle);
		this.set('opacity',options.opacity);
	},
	toObject: function() {
		return fabric.util.object.extend(this.callSuper('toObject'), {
		  label: this.get('label'),
		  barcode_type:this.get('barcode_type'),
		  barcode_sub_type:this.get('barcode_sub_type'),
		  src:'',
		});
	},

	_render: function(ctx) {
		if(this.loaded==true){
			this.callSuper('_render', ctx);
		}
//		ctx.font = '20px Helvetica';
//		ctx.fillStyle = '#333';
//		ctx.fillText(this.label, -this.width/2, -this.height/2 + 20);
	}

});

fabric.Barcode1D.fromObject = function(object, callback) {
	return fabric.Object._fromObject('Barcode1D', object, callback);
}

function item_barcode1d_update_attribute(obj){
	obj.update_attribute=function(obj){
		var step = 90;
		var angle= Math.round(obj.angle/step) * step;
		obj.angle = angle;
		obj.snapAngle = 90;
		obj.flipX = false;
		obj.flipY = false;
		obj.lockScalingFlip=true;
	//	obj.lockScalingX=true;
	//	obj.lockScalingY=true;
	//	obj.lockRotation=true;
		obj['setControlVisible']('br',false);
		obj['setControlVisible']('mr',true);
		obj['setControlVisible']('mb',true);
		obj['setControlVisible']('mtr',true);

		obj.on("scaling", function(e) {
			obj.scaleX = Math.round(obj.scaleX);
			if(obj.scaleX<1)obj.scaleX=1;
			if(obj.scaleX>3)obj.scaleX=3;
			//if(obj.scaleY<10)obj.scaleX=10;
			//if(obj.scaleY>72)obj.scaleX=72;
			//obj.scaleY = 1;
		});
		
		try{
			var number = obj.label;
			if(typeof obj.svg==='undefined'){
				obj.svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
			}
			//console.log('render barcode:'+obj.barcode_sub_type);
			JsBarcode(obj.svg, number, {
				format: obj.barcode_sub_type,
				width:1,
				height:40,
				margin:0,
				displayValue: true,//false
				textPosition:"bottom",
				textMargin:0,
				font:"PrnFnt09",
				fontSize:16,
			});
			var svg = obj.svg;
			var xml = new XMLSerializer().serializeToString(svg);
			svg.style.display='none';
			var base64 = 'data:image/svg+xml;base64,' + btoa(xml);
			obj.setSrc(base64, function(img){
				obj.loaded=true;
				label.canvas.renderAll();
			});
		}catch(e){
			console.log(e);
			var base64='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAwCAYAAADuFn/PAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5z2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDI0LTAzLTIyVDE2OjIxOjIxKzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMjQtMDMtMjJUMTY6MjY6MTIrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDI0LTAzLTIyVDE2OjI2OjEyKzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjFhMDg1OTI3LTQxYWMtZmQ0Zi05NDIxLWVjNDViYTBjYjUwYjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDo1OWNiNTZlZS0yYTRlLTk0NGUtYTI3My1lOGRjOWNkZDYxZmU8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDo1OWNiNTZlZS0yYTRlLTk0NGUtYTI3My1lOGRjOWNkZDYxZmU8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NTljYjU2ZWUtMmE0ZS05NDRlLWEyNzMtZThkYzljZGQ2MWZlPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDI0LTAzLTIyVDE2OjIxOjIxKzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDoxYTA4NTkyNy00MWFjLWZkNGYtOTQyMS1lYzQ1YmEwY2I1MGI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMjQtMDMtMjJUMTY6MjY6MTIrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjk2PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjQ4PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4XNLnLAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAABUwSURBVHjazFxpkFxXdT7vtSXNjGbpHluWbI3WmZFm0XS/d/e33PdezyaNNeqe7pEMrhQBAwVFGRu8kARwsSZQFbPIYCBFHAoIWwVMCHYKQuwYgw2poiA2AcfWjOTdZkaW5FXgjZMf817zptUzcir+0T/0p3Xqzu1z7v3OOd/5bgMiwv/3XxAEJiHE0FpnpJSmlNLwfd8khIDWOsMYM1zXNV3XNRljRhAEGUppYm8IIUyttUkIMYIgyDDGDMdxTNd1Tc55zd73fVMIYQghDN/3TUop1Nun1/d9P5PYa61r/5fYO45jUkqX2cf7qa0fhuEZ9lEUZSilxmvhO3gtFrFtG8IwzHDODSml4XmeSQgxks17nmc6jlNzACEEgiDICCEMKaWZBKuRvdY6kwRSCGEopUzf92trUErhLOsbdfa19TnnRhiGtfU557X1E+evYG94nmc2TQCKxWKGMWZIKQ2tdYZSCskpcV235pzkCzVyzkr2ya1oYH9OfbASZ6btkwBGUVQL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';
			try{
				obj.setSrc(base64, function(img){
					obj.loaded=true;
					label.canvas.renderAll();
				});
			}catch(e){
				console.log(e);
			}
		}
	};
	obj.update_attribute(obj);
}

function item_action_barcode1d_set_types(obj,menuItemTypeSelect,menuItemSubTypeSelect)
{
	var barcode_types=[];
	for(let Barcode1DType of Barcode1DTypes){
		barcode_types[barcode_types.length]=Barcode1DType.type;
	}
	//console.log(barcode_types);
		
	menuItemTypeSelect.options.length = 0;
	for (let barcode_type of barcode_types) {
		menuItemTypeSelect.innerHTML+='<option value="'+barcode_type+'">'+barcode_type+'</option>';
	}
	menuItemTypeSelect.value = obj.barcode_type;
	item_action_barcode1d_set_sub_types(obj,menuItemTypeSelect,menuItemSubTypeSelect);
	
	menuItemTypeSelect.onchange = function(e) {
		const selectedOption = menuItemTypeSelect.value;
		var locked=(obj.opacity!=1);
		if(locked){
			menuItemTypeSelect.selectedIndex=menuItemTypeSelect.defaultIndex;
			mui.toast("内容被锁定，解锁后再修改");
		}else{
			item_action_barcode1d_set_sub_types(obj,menuItemTypeSelect,menuItemSubTypeSelect);
			obj.barcode_type=selectedOption;
			obj.barcode_sub_type=menuItemSubTypeSelect.value;
			item_barcode1d_update_attribute(obj);
			label.canvas.renderAll();
			label.save_to_session();
		}
	};
}

function item_action_barcode1d_set_sub_types(obj,menuItemTypeSelect,menuItemSubTypeSelect)
{
	var barcode_sub_types=[];
	for(let Barcode1DType of Barcode1DTypes){
		if(Barcode1DType.type==menuItemTypeSelect.value){
			barcode_sub_types=Barcode1DType.sub_types;
		}
	}
	//console.log(barcode_sub_types);
	menuItemSubTypeSelect.options.length = 0;
	for (let barcode_sub_type of barcode_sub_types) {
		menuItemSubTypeSelect.innerHTML+='<option value="'+barcode_sub_type[1]+'">'+barcode_sub_type[0]+'</option>';
	}
	for (let barcode_sub_type of barcode_sub_types) {
		if(barcode_sub_type[1]==obj.barcode_sub_type){
			menuItemSubTypeSelect.value = barcode_sub_type[1];
			break;
		}
	}
	menuItemSubTypeSelect.onchange = function(e) {
		var selectedOption = menuItemSubTypeSelect.value;
		var locked=(obj.opacity!=1);
		if(locked){
			menuItemSubTypeSelect.selectedIndex=menuItemSubTypeSelect.defaultIndex;
			mui.toast("内容被锁定，解锁后再修改");
		}else{
			obj.barcode_sub_type=selectedOption;
			//console.log('barcode_sub_type:'+obj.barcode_sub_type);
			item_barcode1d_update_attribute(obj);
			label.canvas.renderAll();
			label.save_to_session();
		}
	};
}

function barcode1d_add(){
	var obj = new fabric.Barcode1D({
		label:'12345678',
		barcode_type:Barcode1DTypes[0].type,
		barcode_sub_type:Barcode1DTypes[0].sub_types[0][1],
		originX: "left",
		originY: "top",
		left: 100,
		top: 100,
		width: 100,
		height: 100,
		snapAngle:90,
		lockScalingFlip:true,
		scaleX:1,
		scaleY:1,
		opacity:1,
		angle:0,
	});
	item_barcode1d_update_attribute(obj);
	label.canvas.add(obj);
	label.canvas.renderAll();
	label.save_to_session();
}

